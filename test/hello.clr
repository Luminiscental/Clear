
struct Context {
    func() void callback;

    func do_stuff() void {
        print "doing stuff";
    }

    val class_name := "Context";
}

func print_(str msg) void {
    print msg;
}

val c := Context { callback=func() print_("called") };
c.callback();
c.do_stuff();
print c.class_name;
